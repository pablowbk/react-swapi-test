{"ast":null,"code":"import _classCallCheck from \"/home/pablow/Desktop/wbk/react-swapi-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/pablow/Desktop/wbk/react-swapi-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/pablow/Desktop/wbk/react-swapi-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/pablow/Desktop/wbk/react-swapi-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/pablow/Desktop/wbk/react-swapi-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/pablow/Desktop/wbk/react-swapi-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/pablow/Desktop/wbk/react-swapi-app/src/App.js\";\nimport React, { Component } from 'react';\nimport CardContainer from './CardContainer';\nimport NavBar from './NavBar';\nimport Header from './Header';\nimport Loader from './Loader';\nimport About from './About';\nimport './App.css'; // const api_data = [];\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      data: [],\n      api_data: [],\n      isVisible: false\n    };\n    _this.handleAboutClick = _this.handleAboutClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // OLD WAY - only gets back the first page results\n      // const url = 'https://swapi.co/api/people/';\n      //\n      // fetch(url)\n      //   .then(response => response.json())\n      //   .then(people => this.setState( { data: people.results } ))\n      // New, but messy, way...\n      var urlsArray = [];\n\n      for (var i = 1; i < 10; i++) {\n        urlsArray.push('https://swapi.co/api/people/?page=' + i.toString());\n      }\n\n      var charsData = [];\n      var charsFetch = urlsArray.map(function (url) {\n        return fetch(url).then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          return data.results.map(function (user) {\n            return charsData.push(user);\n          });\n        });\n      });\n      Promise.all(charsFetch).then(function (results) {\n        return _this2.setState({\n          api_data: charsData\n        });\n      }).catch(function (err) {\n        return console.log('ERROR, please check', err);\n      });\n    }\n  }, {\n    key: \"handleAboutClick\",\n    value: function handleAboutClick(event) {\n      this.setState({\n        isVisible: !this.state.isVisible\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          api_data = _this$state.api_data,\n          isVisible = _this$state.isVisible;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        handleClick: this.handleAboutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), api_data.length === 0 ? React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }) //<h3>Loading Cards...</h3>\n      : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Cards Count: \", api_data.length), React.createElement(CardContainer, {\n        data: api_data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(About, {\n        visibility: isVisible,\n        handleClick: this.handleAboutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/pablow/Desktop/wbk/react-swapi-app/src/App.js"],"names":["React","Component","CardContainer","NavBar","Header","Loader","About","App","props","state","data","api_data","isVisible","handleAboutClick","bind","urlsArray","i","push","toString","charsData","charsFetch","map","url","fetch","then","res","json","results","user","Promise","all","setState","catch","err","console","log","event","length"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport CardContainer from './CardContainer';\nimport NavBar from './NavBar';\nimport Header from './Header';\nimport Loader from './Loader';\nimport About from './About';\nimport './App.css';\n\n// const api_data = [];\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: [],\n      api_data: [],\n      isVisible: false\n    };\n\n    this.handleAboutClick = this.handleAboutClick.bind(this);\n  }\n\n  componentDidMount() {\n    // OLD WAY - only gets back the first page results\n    // const url = 'https://swapi.co/api/people/';\n    //\n    // fetch(url)\n    //   .then(response => response.json())\n    //   .then(people => this.setState( { data: people.results } ))\n\n    // New, but messy, way...\n    const urlsArray = [];\n\n    for(let i = 1; i < 10; i++) {\n      urlsArray.push('https://swapi.co/api/people/?page=' + i.toString());\n    }\n\n    const charsData = [];\n\n    const charsFetch = urlsArray.map(url => fetch(url)\n        .then(res => res.json())\n        .then(data => data.results.map(user => charsData.push(user)))\n    );\n\n    Promise.all(charsFetch)\n      .then(results => this.setState({api_data: charsData}))\n      .catch((err) => console.log('ERROR, please check', err))\n\n  }\n\n  handleAboutClick(event) {\n    this.setState({isVisible: !this.state.isVisible});\n\n  }\n\n\n  render() {\n    const { api_data, isVisible } = this.state;\n    return (\n      <div className='App'>\n          <NavBar\n            handleClick={this.handleAboutClick}\n          />\n          <Header />\n          {\n            api_data.length === 0\n            ? <Loader /> //<h3>Loading Cards...</h3>\n            : <h3>Cards Count: { api_data.length }</h3>\n          }\n          <CardContainer\n            data={ api_data }\n          />\n          <About\n            visibility={isVisible}\n            handleClick={this.handleAboutClick}\n          />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}